# Traefik Configuration - Fixed & Tested

# Entry Points
entryPoints:
  web:
    address: ":8080"        # API Gateway (your services)
  
  traefik:
    address: ":8082"        # Dashboard

# API & Dashboard
api:
  dashboard: true           # Enable dashboard
  insecure: true           # Allow without auth (dev only!)

# Providers - Consul Service Discovery
providers:
  consulCatalog:
    endpoint:
      address: "127.0.0.1:8500"
    exposedByDefault: false
    prefix: "traefik"
    defaultRule: "Host(`localhost`)"
    
    # Consul health checks
    connectAware: false
    connectByDefault: false

# Logging
log:
  level: DEBUG
  format: common

# Access logs (optional - helpful for debugging)
accessLog:
  format: common

# Ping endpoint (health check)
ping:
  entryPoint: "traefik"